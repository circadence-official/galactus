parameters:
  - name: serviceName
    type: string
    default: shawarma
  - name: goVersion
    type: string
    default: "1.16"

trigger:
  branches:
    include:
      - main
  paths:
    include:
      - third_party/shawarma
      - third_party/pipelines/shawarma

resources:
  repositories:
  - repository: phoenix
    type: git
    name: Commercial/phoenix
    ref: refs/tags/0.1.131

stages:
  - template: /pipelines/deployments/galactus/shawarma-pipeline.yml@phoenix
    parameters:
      serviceName: ${{ parameters.serviceName }}
      goVersion: ${{ parameters.goVersion }}
